# 开始学习C++

[toc]

## 2.1 进入C++

**程序清单2.1 myfirst.cpp**

```c++
#include <iostream>
int main()
{
    using namespace std;
    cout << "Come up and C++ me some time.";
    cout << endl;
    cout << "You won't regret it!" << endl;
    return 0;
}
```

> 如果已经使用过C语言进行编程，则看到cout函数（而不是printf( )函数）时可能会小吃一惊。事实上，C++能够使用printf( )、scanf( )和其他所有标准C输入和输出函数，只需要包含常规C语言的stdio.h文件。不过本书介绍的是C++，所以将使用C++的输入工具，它们在C版本的基础上作了很多改进。

### 2.1.1 main( )函数

去掉修饰后，程序清单2.1中的示例程序的基本结构如下：

![..\..\..\..\新建文件夹\29-1.tif](http://localhost:8000/126546aa-6871-4c11-8913-bab8fe9c5316/OEBPS/Images/12.png)

main( )中最后一条语句叫做返回语句（return statement），它结束该函数。本章将讲述有关返回语句的更多知识。

![图片 886](D:/GitRep/Cpp/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0C++/2-1%20%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0C++.assets/13-16646884568933.png)

#### 作为接口的函数头

### 2.1.2 C++注释

> // 或 /* */

### 2.1.3 C++预处理器和iostream文件

下面简要介绍一下需要知道的一些知识。如果程序要使用C++输入或输出工具，请提供这样两行代码：

```c++
#include <iostream> // 输入输出预处理
using namespace std;
```

可使用其他代码替换第2行，这里使用这行代码旨在简化该程序（如果编译器不接受这几行代码，则说明它没有遵守标准C++98，使用它来编译本书的示例时，将出现众多其他的问题）。为使程序正常工作，只需要知道这些。下面更深入地介绍一下这些内容。

### 2.1.4 头文件名

表2.1 头文件命名约定

| 头文件类型  |         约 定         |   示 例    |                         说 明                         |
| :---------: | :-------------------: | :--------: | :---------------------------------------------------: |
| C++旧式风格 |       以.h结尾        | iostream.h |                    C++程序可以使用                    |
|  C旧式风格  |       以.h结尾        |   math.h   |                  C、C++程序可以使用                   |
| C++新式风格 |      没有扩展名       |  iostream  |          C++程序可以使用，使用namespace std           |
|  转换后的C  | 加上前缀c，没有扩展名 |   cmath    | C++程序可以使用，可以使用不是C的特性，如namespace std |

### 2.1.5 名称空间

如果使用iostream，而不是iostream.h，则应使用下面的名称空间编译指令来使iostream中的定义对程序可用：

```c++
using namespace std;
```

这叫做using编译指令。最简单的办法是，现在接受这个编译指令，以后再考虑它（例如，到第9章再考虑它）。但这里还是简要地介绍它，以免您一头雾水。

按照这种方式，类、函数和变量便是C++编译器的标准组件，它们现在都被放置在名称空间std中。仅当头文件没有扩展名h时，情况才是如此。这意味着在iostream中定义的用于输出的cout变量实际上是std::cout，而endl实际上是std::endl。因此，可以省略编译指令using，以下述方式进行编码：

### 2.1.6 使用cout进行C++输出

现在来看一看如何显示消息。myfirst.cpp程序使用下面的C++语句：

```c++
cout << "Come up and C++ me some time.";
```

双引号括起的部分是要打印的消息。在C++中，用双引号括起的一系列字符叫做字符串，因为它是由若干字符组合而成的。<<符号表示该语句将把这个字符串发送给cout；该符号指出了信息流动的路径。cout是什么呢？它是一个预定义的对象，知道如何显示字符串、数字和单个字符等（第1章介绍过，对象是类的特定实例，而类定义了数据的存储和使用方式）。

```c++
cout << string;
```

对于显示字符串而言，只需知道这些即可。然而，现在来看看C++从概念上如何解释这个过程。从概念上看，输出是一个流，即从程序流出的一系列字符。cout对象表示这种流，其属性是在iostream文件中定义的。cout的对象属性包括一个插入运算符（<<），它可以将其右侧的信息插入到流中。请看下面的语句（注意结尾的分号）：